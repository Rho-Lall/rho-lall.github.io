{"componentChunkName":"component---src-pages-thoughts-mdx-slug-js","path":"/thoughts/artificial-intelligence/counterfactual-analysis/","result":{"data":{"mdx":{"frontmatter":{"title":"Counterfactual Analysis","short":"\nCounterfactual analysis can be used to determine the lift of a campaign or ad. \n","keywords":"data science programming, datascientist, job of data scientist, data driven insights, data driven solutions","hero_alt":"Counterfactual Analysis","date":"September 3, 2022","hero_image":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#085898","images":{"fallback":{"src":"/static/3cdde01a6ccf500dc507919158c9d965/87706/data_savvy_3.png","srcSet":"/static/3cdde01a6ccf500dc507919158c9d965/f80f8/data_savvy_3.png 320w,\n/static/3cdde01a6ccf500dc507919158c9d965/9a63f/data_savvy_3.png 640w,\n/static/3cdde01a6ccf500dc507919158c9d965/87706/data_savvy_3.png 1280w","sizes":"(min-width: 1280px) 1280px, 100vw"},"sources":[{"srcSet":"/static/3cdde01a6ccf500dc507919158c9d965/c0bcc/data_savvy_3.webp 320w,\n/static/3cdde01a6ccf500dc507919158c9d965/17574/data_savvy_3.webp 640w,\n/static/3cdde01a6ccf500dc507919158c9d965/71d4d/data_savvy_3.webp 1280w","type":"image/webp","sizes":"(min-width: 1280px) 1280px, 100vw"}]},"width":1280,"height":720}}}},"slug":"artificial_intelligence/counterfactual-analysis","body":"var _excluded = [\"components\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"title\": \"Counterfactual Analysis\",\n  \"date\": \"2022-09-03\",\n  \"hero_image\": \"../media/data_savvy_3.png\",\n  \"hero_alt\": \"Counterfactual Analysis\",\n  \"expertise\": \"Artificial Intelligence\",\n  \"author\": \"Rho Lall\",\n  \"keywords\": \"data science programming, datascientist, job of data scientist, data driven insights, data driven solutions\",\n  \"short\": \"\\nCounterfactual analysis can be used to determine the lift of a campaign or ad. \\n\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"How would things be different if something hadn't happened? This is what counterfactual analysis looks at. For example, we can look at how sales change as a result of a new marketing campaign and attribute the incremental lift in sales due to the campaign. By doing this, we can understand what portion of sales is a result of the campaign, and which would have happened anyway. Counterfactual analysis can be done in addition to traditional lift analysis or when traditional lift analysis is not possible.\"), mdx(\"p\", null, \"To figure out what would have happened without the campaign, break your audience into two groups. The first group sees the ad. The second group is similar to the first group, but doesn't see the ad.\"), mdx(\"p\", null, \"The results from this second control group allow us to see what would have happened with our test group had they not seen the ad.\"), mdx(\"p\", null, \"Counterfactual impact evaluation methods encompass double difference analysis (or difference-in-difference), randomized selection of subjects, propensity score matching and instrumental variable analysis. It is also possible to combine methods. For example, propensity score matching can be used to create treatment and control groups, while double difference analysis can be employed to evaluate the impact of the treatment.\"), mdx(\"h2\", null, \"Double Difference Analysis\"), mdx(\"p\", null, \"Double difference analysis compares treatment and control groups at different time periods. The first step is to look at the difference between the groups. The second step is to look at the difference over time between the groups.\"), mdx(\"p\", null, \"Double difference analysis takes into account that there are some invisible characteristics that account for differences between the treatment and control groups. If these characteristics do not change over time, their impact can be eliminated by comparing both groups before and after the treatment.\"), mdx(\"p\", null, \"Double difference means that two kinds of differences are assessed. Firstly, the difference in time (before and after the intervention), and secondly, the difference between individuals who were subjected to the intervention and those who were not.\"), mdx(\"p\", null, \"Let's look at how to analyze the average number of sales per day as an example. Assume that an intervention is applied to the treatment group, they see an ad. This will cause a change in time (\\u201Cbefore-after\\u201D). We can measure much this treatment changes things by subtracting the change in average number of sales per day for the control group from the change in average number of sales per day for the treatment group. This will give us a double difference estimator (treatment\\u2019s impact estimate).\"), mdx(\"p\", null, \"Double difference analysis is based on the idea that, if there was no treatment, the average number of sales per day in the treatment group would be the same as the average number of sales per day in the control group. The counterfactual situation is what would have happened if there was no treatment.\"), mdx(\"h2\", null, \"Double Difference Regression\"), mdx(\"p\", null, \"Double difference regression helps to see if the impact is statistically significant. It also helps to take into account the influence of additional periodic or structural factors.\"), mdx(\"p\", null, \"We can develop this regression model:\"), mdx(\"p\", null, \"Yi,t = a + b1\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Ti + b2\"), \"Pt + b3\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Ti\"), \"Pt + \\u0511i,t\"), mdx(\"p\", null, \"where:\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Yi\"), \" is the outcome of a sale in a particular period. This can be measured by the number of sales.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Ti\"), \" is a variable that has two possible values: 1, if a product participated in the treatment, and 0, if a product did not participate in the treatment.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Pt\"), \" is a variable that can have two different values. The first value, 0, reflects the time period before the intervention happened. The second value, 1, reflects the time period after the intervention happened.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Ti*Pt\"), \" is the outcome of the two previous variables which acquires value 1 only when the outcome of the product that received the treatment, in the period after the treatment, is taken into account.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u0511i,t\"), \" is an error of the regression.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"a, b1, b2, b3\"), \" are parameters of the regression that are under evaluation.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"a\"), \" reflects the average outcome (sale) of the product which did not participate in the treatment, in the period before receiving the treatment;\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"b1\"), \" reflects the initial difference between the treatment and control groups;\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"b2\"), \" reflects the difference in the outcomes (e.g. sales) of the products that did not participate in the treatment between periods;\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"b3\"), \" reflects an impact estimate.\"), mdx(\"p\", null, \"The significance of the parameters is evaluated at the same time. For example, if the parameter that reflects the impact estimate is not statistically significant, then it is important to be careful about saying that the assistance definitely had an impact.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"TLDR:\"), \" Counterfactual analysis can be used to determine the lift of a campaign or ad. Counterfactual analysis is a method used to determine the difference in outcomes between groups that saw an ad and groups that did not. This analysis takes into account that there are some invisible characteristics that account for differences between groups. If these characteristics do not change over time, their impact can be eliminated by comparing both groups before and after the test group sees the ad.\"));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"id":"904efcbc-13c7-5eb2-be4b-038ec7179f6e","slug":"artificial_intelligence/counterfactual-analysis","__params":{"slug":"artificial-intelligence"}}},"staticQueryHashes":["1609057278"]}