{"version":3,"file":"3c6627f12b9ec041a1c08ebbcd3d4a6390033879-76733809ac21153e1ca3.js","mappings":"qJAgDA,IAlCuBA,IAA8D,IAA7D,YAAEC,EAAW,WAAEC,EAAU,YAAEC,EAAW,cAAEC,GAAeJ,EAa7E,OACEK,EAAAA,cAAA,OAAKC,UAAU,8BAEbD,EAAAA,cAAA,UACEE,QAhBqBC,KACrBP,IACFQ,EAAAA,EAAAA,IAASR,IAePK,UAAU,8IAETH,GAAe,cAIlBE,EAAAA,cAAA,UACEE,QAlBuBG,KACvBR,IACFO,EAAAA,EAAAA,IAASP,IAiBPI,UAAU,mGAETF,GAAiB,c,sBCkF1B,IArHyB,CAErBO,OAAQ,CACJC,aAAc,iCACdC,SAAU,kCAIdC,KAAM,CACFC,MAAO,mCACPC,YAAa,yEACbC,SAAU,sDACVC,OAAQ,YAIZC,iBAAkB,CAEdC,oBAAqB,6BAGrBC,aAAc,CACVC,MAAO,MACPC,SAAU,mDACVC,KAAM,kBAIVC,oBAAqB,IAIzBC,aAAc,CACVC,SAAU,yBACVC,aAAc,wFACdC,YAAa,kBAIjBC,gBAAiB,CAEbC,KAAK,wzDA+CTC,cAAe,CACXL,SAAU,iCACVC,aAAc,0CAIlBK,YAAa,CACTN,SAAU,4CAIdO,QAAS,CACLC,aAAc,GACdC,eAAgB,IAIpBC,OAAQ,CACJC,aAAc,oBACdC,gBAAiB,mBACjBC,YAAa,MACbC,YAAa,SAIjBC,YAAY,EACZC,cAAe,G,6HC2CnB,MApJqB3C,IAMd,IAAD4C,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,IANgB,UAClBC,EAAS,aACTC,EAAY,SACZC,EAAQ,aACRC,EAAe,iBAAgB,aAC/BC,EAAe,IAClBhE,EACG,MAAM,EAACiE,EAAS,EAACC,IAAeC,EAAAA,EAAAA,UAAwB,GAAfH,IAEzCI,EAAAA,EAAAA,WAAU,KACN,MAAMC,EAAQC,YAAY,KACtBJ,EAAYK,GACJA,GAAY,GACZC,cAAcH,GACP,GAEJE,EAAW,IAEvB,KAEH,MAAO,IAAMC,cAAcH,IAC5B,IAQH,OACIhE,EAAAA,cAAAA,EAAAA,SAAA,KAEIA,EAAAA,cAAA,WAASC,UAAU,+BACfD,EAAAA,cAAA,OAAKC,UAAU,kCAGgB,QAA1BsC,EAAAgB,EAAUzC,wBAAgB,IAAAyB,OAAA,EAA1BA,EAA4BxB,sBACzBf,EAAAA,cAAA,KAAGC,UAAU,8BACRsD,EAAUzC,iBAAiBC,qBAKpCf,EAAAA,cAAA,OAAKC,UAAU,QACXD,EAAAA,cAAA,OAAKC,UAAU,gEACXD,EAAAA,cAAA,OACIC,UAAU,wDACVmE,MAAO,CACHnD,OAAiC,QAA1BuB,EAAAe,EAAUzC,wBAAgB,IAAA0B,GAAc,QAAdC,EAA1BD,EAA4BxB,oBAAY,IAAAyB,OAAd,EAA1BA,EAA0CxB,QAAS,MAC1DoD,YAAsC,QAA1B3B,EAAAa,EAAUzC,wBAAgB,IAAA4B,GAAc,QAAdC,EAA1BD,EAA4B1B,oBAAY,IAAA2B,OAAd,EAA1BA,EAA0CzB,WAAY,qDAGtElB,EAAAA,cAAA,QAAMC,UAAU,sFACXyD,OAOU,QAA1Bd,EAAAW,EAAUzC,wBAAgB,IAAA8B,OAAA,EAA1BA,EAA4BxB,sBACzBpB,EAAAA,cAAA,KAAGC,UAAU,8BACRsD,EAAUzC,iBAAiBM,qBAKpCpB,EAAAA,cAAA,MAAIC,UAAU,gFAAgFmE,MAAO,CAAEE,WAAY,aACxF,QADqGzB,EAC3HU,EAAUlC,oBAAY,IAAAwB,OAAA,EAAtBA,EAAwBvB,UAG7BtB,EAAAA,cAAA,OAAKC,UAAU,2DACY,QAD6C6C,EACnES,EAAUlC,oBAAY,IAAAyB,OAAA,EAAtBA,EAAwBtB,cAGN,QAAtBuB,EAAAQ,EAAUlC,oBAAY,IAAA0B,OAAA,EAAtBA,EAAwBxB,eACrBvB,EAAAA,cAAA,OAAKC,UAAU,iFAAiFmE,MAAO,CAAEE,WAAY,aACjHtE,EAAAA,cAACuE,EAAAA,GAAa,KAAEhB,EAAUlC,aAAaE,gBAKrB,IAAzBgC,EAAUlB,YACPrC,EAAAA,cAAA,OAAKC,UAAU,gBACXD,EAAAA,cAAA,OAAKC,UAAU,4CAA4CmE,MAAO,CAAEI,WAAY,sCA7DpFC,KAChB,MACMC,EAAmBD,EAAU,GACnC,OAFgBE,KAAKC,MAAMH,EAAU,IAEnBI,WAAWC,SAAS,EAAG,KAAI,IAAIJ,EAAiBG,WAAWC,SAAS,EAAG,MA2DhEC,CAAWnB,IAEhB5D,EAAAA,cAAA,KAAGC,UAAU,8BAA6B,sBAKjDuD,GACGxD,EAAAA,cAAA,OAAKC,UAAU,QACVuD,KAQjBxD,EAAAA,cAAA,WAASC,UAAU,uCACfD,EAAAA,cAAA,OAAKC,UAAU,qBACXD,EAAAA,cAAA,WACIA,EAAAA,cAAA,OAAKC,UAAU,gBAEXD,EAAAA,cAAA,OAAKC,UAAU,wBACXD,EAAAA,cAACuE,EAAAA,GAAa,KAA2B,QAA3BvB,EAAEO,EAAU9B,uBAAe,IAAAuB,OAAA,EAAzBA,EAA2BtB,UAK1B,QAAvBuB,EAAAM,EAAU5B,qBAAa,IAAAsB,OAAA,EAAvBA,EAAyB3B,YAAmC,QAA3B4B,EAAIK,EAAU5B,qBAAa,IAAAuB,OAAA,EAAvBA,EAAyB3B,gBAC5DvB,EAAAA,cAAA,OAAKC,UAAU,gDACa,QAAvBkD,EAAAI,EAAU5B,qBAAa,IAAAwB,OAAA,EAAvBA,EAAyB7B,WACtBtB,EAAAA,cAAA,MAAIC,UAAU,sDACTsD,EAAU5B,cAAcL,WAGT,QAAvB8B,EAAAG,EAAU5B,qBAAa,IAAAyB,OAAA,EAAvBA,EAAyB7B,eACtBvB,EAAAA,cAAA,KAAGC,UAAU,qCACRsD,EAAU5B,cAAcJ,eAOxCkC,MAMS,QAArBJ,EAAAE,EAAU3B,mBAAW,IAAAyB,OAAA,EAArBA,EAAuB/B,WACpBtB,EAAAA,cAAA,WAASC,UAAU,wBAAwBmE,MAAO,CAAEY,iBAAiC,QAAhB1B,EAAAC,EAAUvB,cAAM,IAAAsB,OAAA,EAAhBA,EAAkBpB,kBAAmB,qBACtGlC,EAAAA,cAAA,OAAKC,UAAU,iCACXD,EAAAA,cAAA,MAAIC,UAAU,wEACTsD,EAAU3B,YAAYN,c,oBCzEnD,MA7D0B3B,IAMnB,IAADsF,EAAAC,EAAA,IANqB,OACzBC,EAAM,UACN5B,EAAS,YACT3D,EAAW,WACXC,EAAU,aACV2D,GACD7D,EAEC,IAAKwF,EACH,MAAM,IAAIC,MAAM,0CAElB,IAAK7B,EACH,MAAM,IAAI6B,MAAM,6CAElB,IAAKxF,EACH,MAAM,IAAIwF,MAAM,+CAElB,IAAKvF,EACH,MAAM,IAAIuF,MAAM,8CAIlB,MAAMC,GAASC,EAGTC,GAAqC,QAAjBN,EAAA1B,EAAU1B,eAAO,IAAAoD,OAAA,EAAjBA,EAAmBnD,eAAgB,aACvD0D,EAA8DD,EAEpE,OACEvF,EAAAA,cAACmF,EAAM,CAACM,UAAWlC,EAAU9C,KAAKC,OAChCV,EAAAA,cAAC0F,EAAAA,EAAM,KACL1F,EAAAA,cAAA,aAAQuD,EAAU9C,KAAKC,OACvBV,EAAAA,cAAA,QAAM2F,KAAK,cAAcC,QAASrC,EAAU9C,KAAKE,cACjDX,EAAAA,cAAA,QAAM2F,KAAK,WAAWC,QAASrC,EAAU9C,KAAKG,WAC9CZ,EAAAA,cAAA,QAAM2F,KAAK,SAASC,QAASrC,EAAU9C,KAAKI,UAI7CwE,EAMDrF,EAAAA,cAAC6F,EAAY,CACXtC,UAAWA,EACXI,aAAcJ,EAAUjB,cACxBkB,aAAcA,GAGdxD,EAAAA,cAAC8F,EAAAA,EAAc,CACblG,YAAaA,EACbC,WAAYA,EACZC,YAAa0F,EACbzF,eAAgC,QAAjBmF,EAAA3B,EAAU1B,eAAO,IAAAqD,OAAA,EAAjBA,EAAmBnD,iBAAkB,iB,2FCQ9D,IA9DwBpC,IAMjB,IAADsF,EAAAC,EAAA,IANmB,OACvBC,EAAM,UACN5B,EAAS,YACT3D,EAAW,WACXC,EAAU,aACV2D,GACD7D,EAEC,IAAKwF,EACH,MAAM,IAAIC,MAAM,wCAElB,IAAK7B,EACH,MAAM,IAAI6B,MAAM,2CAElB,IAAKxF,EACH,MAAM,IAAIwF,MAAM,6CAElB,IAAKvF,EACH,MAAM,IAAIuF,MAAM,4CAIlB,MAAMC,GAASC,EAGTC,GAAqC,QAAjBN,EAAA1B,EAAU1B,eAAO,IAAAoD,OAAA,EAAjBA,EAAmBnD,eAAgB,mBACvD0D,EAA8DD,EAEpE,OACEvF,EAAAA,cAACmF,EAAM,CAACM,UAAWlC,EAAU9C,KAAKC,OAChCV,EAAAA,cAAC0F,EAAAA,EAAM,KACL1F,EAAAA,cAAA,aAAQuD,EAAU9C,KAAKC,OACvBV,EAAAA,cAAA,QAAM2F,KAAK,cAAcC,QAASrC,EAAU9C,KAAKE,cACjDX,EAAAA,cAAA,QAAM2F,KAAK,WAAWC,QAASrC,EAAU9C,KAAKG,WAC9CZ,EAAAA,cAAA,QAAM2F,KAAK,SAASC,QAASrC,EAAU9C,KAAKI,SAC5Cb,EAAAA,cAAA,QAAM2F,KAAK,SAASC,QAAQ,uBAI7BP,EAMDrF,EAAAA,cAAC+F,EAAAA,EAAU,CACTxC,UAAWA,EACXI,aAAcJ,EAAUjB,cACxBkB,aAAcA,GAGdxD,EAAAA,cAAC8F,EAAAA,EAAc,CACblG,YAAaA,EACbC,WAAYA,EACZC,YAAa0F,EACbzF,eAAgC,QAAjBmF,EAAA3B,EAAU1B,eAAO,IAAAqD,OAAA,EAAjBA,EAAmBnD,iBAAkB,wC,mEC+M9D,IApQ2BpC,IAMpB,IANqB,OAC1BwF,EAAM,UACN5B,EAAS,WACT1D,EAAU,kBACVmG,EAAoB,4DAA2D,kBAC/EC,EAAoB,6DACrBtG,EAEC,IAAKwF,EACH,MAAM,IAAIC,MAAM,2CAElB,IAAK7B,EACH,MAAM,IAAI6B,MAAM,8CAElB,IAAKvF,EACH,MAAM,IAAIuF,MAAM,+CAGlB,MAAM,EAACc,EAAgB,EAACC,IAAsBrC,EAAAA,EAAAA,UAAS,KACjD,EAACsC,EAAa,EAACC,IAAmBvC,EAAAA,EAAAA,WAAS,IAC3C,EAACwC,EAAM,EAACC,IAAYzC,EAAAA,EAAAA,UAAS,IAG7BuB,GAASC,EAGTkB,EAAmDjD,EAAUjD,OAAOE,UAG1EuD,EAAAA,EAAAA,WAAU,KACR,GAAsB,oBAAX0C,OAAwB,OAEnC,MACMC,EADY,IAAIC,gBAAgBF,OAAOG,SAASC,QAC1BC,IAAI,cAEhC,IAAKJ,EAGH,OAFAK,QAAQC,KAAK,mCACb5G,EAAAA,EAAAA,IAASP,GAIXsG,EAAmBO,IAClB,CAAC7G,IA+HJ,OACEG,EAAAA,cAACmF,EAAM,CAACM,UAAWlC,EAAU9C,KAAKC,OAChCV,EAAAA,cAAC0F,EAAAA,EAAM,KACL1F,EAAAA,cAAA,aAAQuD,EAAU9C,KAAKC,OACvBV,EAAAA,cAAA,QAAM2F,KAAK,cAAcC,QAASrC,EAAU9C,KAAKE,cACjDX,EAAAA,cAAA,QAAM2F,KAAK,SAASC,QAAQ,uBAI7BP,EAMDrF,EAAAA,cAAC+F,EAAAA,EAAU,CACTxC,UAAWA,EACXG,aAAa,qCACbC,aAAcJ,EAAUjB,eAGvBgE,GACCtG,EAAAA,cAAA,OAAKC,UAAU,qEACbD,EAAAA,cAAA,KAAGC,UAAU,sBAAqB,iBAClCD,EAAAA,cAAA,SAAIsG,IAKRtG,EAAAA,cAAA,OAAKC,UAAU,8BAEbD,EAAAA,cAAA,UACEE,QA5Ja+G,UACrB,IAAKf,EAEH,YADAK,EAAS,sCAIXF,GAAgB,GAChBE,EAAS,IAGT,MAAMW,EAAa,IAAIC,gBACjBC,EAAYC,WAAW,IAAMH,EAAWI,QAAS,KAEvD,IAGE,IAAIC,EAAW,KACXC,EAAY,KAEhB,IAAK,IAAIC,EAAI,EAAGA,EAAI,GAAIA,IACtB,IACE,MAAMC,QAAqBC,MAAS3B,EAAiB,eAAeE,EAAe,WAAWb,EAAU,CACtGuC,OAAQV,EAAWU,SAGrB,IAAKF,EAAaG,GAAI,CAAC,IAADC,EACpB,MAAMC,QAAkBL,EAAaM,OAAOC,MAAM,MAAS,IAI3D,GAHAT,EAAY,IAAIpC,OAAqB,QAAf0C,EAAAC,EAAUzB,aAAK,IAAAwB,OAAA,EAAfA,EAAiBI,UAAW,+BAG1B,IAApBH,EAAUI,OAA2C,MAAxBT,EAAaU,OAAgB,OACtD,IAAIC,QAAQC,GAAWjB,WAAWiB,EAAS,KAAQb,EAAI,KAC7D,QACF,CAGA,MAAMD,CACR,CAEA,MAAMe,QAAab,EAAaM,OAEhC,GAAIO,EAAKC,SAAWD,EAAKE,YAAa,CACpClB,EAAWgB,EACX,KACF,CAGA,IAAmB,IAAfA,EAAKJ,MAAiB,OAClB,IAAIE,QAAQC,GAAWjB,WAAWiB,EAAS,KAAQb,EAAI,KAC7D,QACF,CAEA,MAAM,IAAIrC,MAAM,2BAElB,CAAE,MAAOsD,GACP,GAAiB,eAAbA,EAAI/C,KAAuB,MAAM+C,EAIrC,GAHAlB,EAAYkB,EAGF,IAANjB,EAAS,MAAMD,QAGb,IAAIa,QAAQC,GAAWjB,WAAWiB,EAAS,KAAQb,EAAI,IAC/D,CAGuC,IAADkB,EAAxC,IAAKpB,IAAaA,EAASkB,YACzB,MAAM,IAAIrD,OAAe,QAATuD,EAAAnB,SAAS,IAAAmB,OAAA,EAATA,EAAWT,UAAW,gDAIxC,MAAMU,QAAuBjB,MAAM1B,EAAmB,CACpD4C,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBR,YAAalB,EAASkB,YACtBjC,QAASA,IAEXoB,OAAQV,EAAWU,SAKrB,GAFAsB,aAAa9B,IAERwB,EAAef,GAAI,CAAC,IAADsB,EACtB,MAAMpB,QAAkBa,EAAeZ,OAAOC,MAAM,MAAS,IAC7D,MAAM,IAAI7C,OAAqB,QAAf+D,EAAApB,EAAUzB,aAAK,IAAA6C,OAAA,EAAfA,EAAiBjB,UAAO,iBAAqBU,EAAeR,OAC9E,CAEA,MAAMG,QAAaK,EAAeZ,OAEd,IAADoB,EAAnB,IAAKb,EAAKC,QACR,MAAM,IAAIpD,OAAgB,QAAVgE,EAAAb,EAAKjC,aAAK,IAAA8C,OAAA,EAAVA,EAAYlB,UAAW,sCAIzC9H,EAAAA,EAAAA,IAASP,EAEX,CAAE,MAAO6I,GACPQ,aAAa9B,GAGb,IAAIiC,EAAe,+CAEF,eAAbX,EAAI/C,KACN0D,EAAe,0EACNX,EAAIR,QAAQoB,SAAS,oBAAsBZ,EAAIR,QAAQoB,SAAS,gBACzED,EAAe,sEACNX,EAAIR,UACbmB,EAAeX,EAAIR,SAGrB3B,EAAS8C,GACTtC,QAAQT,MAAM,0BAA2BoC,GACzCrC,GAAgB,EAClB,GAyCQkD,SAAUnD,IAAiBF,EAC3BjG,UAAS,oGACPmG,IAAiBF,EACb,iCACA,+CAGLE,EACCpG,EAAAA,cAAA,QAAMC,UAAU,0CACdD,EAAAA,cAAA,OAAKC,UAAU,kCAAkCuJ,MAAM,6BAA6BC,KAAK,OAAOC,QAAQ,aACtG1J,EAAAA,cAAA,UAAQC,UAAU,aAAa0J,GAAG,KAAKC,GAAG,KAAKC,EAAE,KAAKC,OAAO,eAAeC,YAAY,MACxF/J,EAAAA,cAAA,QAAMC,UAAU,aAAawJ,KAAK,eAAeO,EAAE,qHAC/C,iBAIRzG,EAAU1B,QAAQC,cAAgB,6BAKtC9B,EAAAA,cAAA,UACEE,QA3DY+J,MACpB7J,EAAAA,EAAAA,IAASP,IA2DD0J,SAAUnD,EACVnG,UAAU,mJAETsD,EAAU1B,QAAQE,gBAAkB,uCAKzC/B,EAAAA,cAAA,OAAKC,UAAU,sCACbD,EAAAA,cAAA,OAAKC,UAAU,0EACbD,EAAAA,cAAA,OAAKC,UAAU,2BACbD,EAAAA,cAAA,OAAKC,UAAU,yBAAyBwJ,KAAK,eAAeC,QAAQ,aAClE1J,EAAAA,cAAA,QAAMkK,SAAS,UAAUF,EAAE,wIAAwIG,SAAS,aAE9KnK,EAAAA,cAAA,YAAM,mBAERA,EAAAA,cAAA,OAAKC,UAAU,2BACbD,EAAAA,cAAA,OAAKC,UAAU,yBAAyBwJ,KAAK,eAAeC,QAAQ,aAClE1J,EAAAA,cAAA,QAAMkK,SAAS,UAAUF,EAAE,kRAAkRG,SAAS,aAExTnK,EAAAA,cAAA,YAAM,uBAERA,EAAAA,cAAA,OAAKC,UAAU,2BACbD,EAAAA,cAAA,OAAKC,UAAU,yBAAyBwJ,KAAK,eAAeC,QAAQ,aAClE1J,EAAAA,cAAA,QAAMkK,SAAS,UAAUF,EAAE,wIAAwIG,SAAS,aAE9KnK,EAAAA,cAAA,YAAM,6B,2DCrHhBoK,E,UA7JAC,EAAgB,SAMhBC,EAAS,wBACTC,EAAgB,GAAGC,OAAOF,EAAQ,KAAKE,OAAOH,EAAe,cAC7DI,EAAe,4CACfC,EAAsB,8DACtBC,EAA0B,mJAE1BC,EAAgB,SAAuBC,GACzC,OAAOJ,EAAaK,KAAKD,IAAQH,EAAoBI,KAAKD,EAC5D,EAkBIE,EAAe,SAAsBC,GACvC,IAAIC,EAAcD,IAAWA,EAAOE,qBAAuB,8BAAgC,GACvFC,EAASC,SAASC,cAAc,UACpCF,EAAOG,IAAM,GAAGd,OAAOD,GAAeC,OAAOS,GAC7C,IAAIM,EAAaH,SAASI,MAAQJ,SAASrC,KAE3C,IAAKwC,EACH,MAAM,IAAInG,MAAM,+EAIlB,OADAmG,EAAWE,YAAYN,GAChBA,CACT,EAcIO,EAAkB,KAClBC,EAAkB,KAClBC,EAAiB,KAoBjBC,EAAa,SAAoBb,GAEnC,OAAwB,OAApBU,EACKA,GAGTA,EAAkB,IAAIrD,QAAQ,SAAUC,EAASwD,GAC/C,GAAsB,oBAAXrF,QAA8C,oBAAb2E,SAW5C,GAJI3E,OAAOsF,QAAUf,GACnBjE,QAAQC,KAAK2D,GAGXlE,OAAOsF,OACTzD,EAAQ7B,OAAOsF,aAIjB,IACE,IAAIZ,EAxFO,WAGf,IAFA,IAAIa,EAAUZ,SAASa,iBAAiB,gBAAiBzB,OAAOF,EAAQ,OAE/D7C,EAAI,EAAGA,EAAIuE,EAAQE,OAAQzE,IAAK,CACvC,IAAI0D,EAASa,EAAQvE,GAErB,GAAKmD,EAAcO,EAAOG,KAI1B,OAAOH,CACT,CAEA,OAAO,IACT,CA0EmBgB,GAEb,GAAIhB,GAAUH,EACZjE,QAAQC,KAAK2D,QACR,GAAKQ,GAEL,GAAIA,GAA6B,OAAnBS,GAA+C,OAApBD,EAA0B,CACxE,IAAIS,EAGJjB,EAAOkB,oBAAoB,OAAQT,GACnCT,EAAOkB,oBAAoB,QAASV,GAGS,QAA5CS,EAAqBjB,EAAOmB,kBAA+C,IAAvBF,GAAyCA,EAAmBG,YAAYpB,GAC7HA,EAASJ,EAAaC,EACxB,OAXEG,EAASJ,EAAaC,GAaxBY,EApDO,SAAgBtD,EAASwD,GACpC,OAAO,WACDrF,OAAOsF,OACTzD,EAAQ7B,OAAOsF,QAEfD,EAAO,IAAI1G,MAAM,2BAErB,CACF,CA4CuBoH,CAAOlE,EAASwD,GACjCH,EA7DQ,SAAiBG,GAC7B,OAAO,SAAUW,GACfX,EAAO,IAAI1G,MAAM,2BAA4B,CAC3CqH,MAAOA,IAEX,CACF,CAuDwBC,CAAQZ,GAC1BX,EAAOwB,iBAAiB,OAAQf,GAChCT,EAAOwB,iBAAiB,QAAShB,EACnC,CAAE,MAAOrF,GAEP,YADAwF,EAAOxF,EAET,MAvCEgC,EAAQ,KAwCZ,IAE8B,MAAE,SAAUhC,GAExC,OADAoF,EAAkB,KACXrD,QAAQyD,OAAOxF,EACxB,EACF,EAsBIsG,GAAa,EAEbC,EAAmB,WACrB,OAAIzC,IAIJA,EAAgByB,EAAW,MAAa,MAAE,SAAUvF,GAGlD,OADA8D,EAAgB,KACT/B,QAAQyD,OAAOxF,EACxB,GAEF,EAIA+B,QAAQC,UAAUwE,KAAK,WACrB,OAAOD,GACT,GAAU,MAAE,SAAUvG,GACfsG,GACH7F,QAAQC,KAAKV,EAEjB,GACA,IAAIyG,EAAa,WACf,IAAK,IAAIC,EAAOC,UAAUf,OAAQgB,EAAO,IAAIC,MAAMH,GAAOI,EAAO,EAAGA,EAAOJ,EAAMI,IAC/EF,EAAKE,GAAQH,UAAUG,GAGzBR,GAAa,EACb,IAAIS,EAAYC,KAAKC,MAErB,OAAOV,IAAmBC,KAAK,SAAUU,GACvC,OAtDa,SAAoBA,EAAaN,EAAMG,GACtD,GAAoB,OAAhBG,EACF,OAAO,KAGT,IACIC,EADKP,EAAK,GACKQ,MAAM,YAErBC,EA/I2B,SAAoCA,GACnE,OAAmB,IAAZA,EAAgB,KAAOA,CAChC,CA6IgBC,CAA2BJ,EAAYG,SACjDE,EAAkBxD,EAElBoD,GAAaE,IAAYE,GAC3B9G,QAAQC,KAAK,aAAawD,OAAOmD,EAAS,mDAAmDnD,OAAO,QAAS,wBAAwBA,OAAOqD,EAAiB,yHAG/J,IAAIvN,EAASkN,EAAYM,WAAMC,EAAWb,GAE1C,OA5GoB,SAAyB5M,EAAQ+M,GAChD/M,GAAWA,EAAO0N,kBAIvB1N,EAAO0N,iBAAiB,CACtBrI,KAAM,YACNgI,QAAS,QACTN,UAAWA,GAEf,CAiGEY,CAAgB3N,EAAQ+M,GACjB/M,CACT,CAoCW4N,CAAWV,EAAaN,EAAMG,EACvC,EACF,ECoCA,MA7MuB1N,IAAyD,IAAxD,QAAE6G,EAAO,WAAE2H,EAAU,UAAEC,EAAS,OAAE/I,GAAS,GAAO1F,EAGxE,MAAM0O,EAAyBhJ,EANGC,8GACAA,+GAO5B,EAACgJ,EAAU,EAACC,IAAgBzK,EAAAA,EAAAA,WAAS,IACrC,EAACwC,EAAM,EAACC,IAAYzC,EAAAA,EAAAA,UAAS,KAC7B,EAAC0K,EAAa,EAACC,IAAmB3K,EAAAA,EAAAA,UAAS,KAC3C,EAAC4C,EAAU,EAACgI,IAAgB5K,EAAAA,EAAAA,UAAS,IACrC6K,GAAcC,EAAAA,EAAAA,QAAO,MACrBxE,GAAgBwE,EAAAA,EAAAA,QAAO,MACvBC,GAAmBD,EAAAA,EAAAA,QAAO,OAGhC7K,EAAAA,EAAAA,WAAU,KACHqG,EAAc0E,UACjB1E,EAAc0E,QAAU/B,EAAWsB,KAEpC,KAGHtK,EAAAA,EAAAA,WAAU,KACsBkD,WAC5B,IAAKT,EAGH,OAFAD,EAAS,qCACTgI,GAAa,GAKf,MAAMrH,EAAa,IAAIC,gBACjBC,EAAYC,WAAW,IAAMH,EAAWI,QAAS,KAEvD,IACE,MAAMyH,EAA4B,oBAAXtI,OAAyBA,OAAOG,SAASoI,OAAS,GACnEC,EAAoBd,GAAiBY,EAAO,YAC5CG,EAAmBd,IAAgC,oBAAX3H,OAAyBA,OAAOG,SAASuI,KAAKC,MAAM,KAAK,GAAK,IAEtGC,QAAiB1H,MA5CH,mEA4C8B,CAChDkB,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBzC,QAASA,EACT8I,YAAa,QACbnB,WAAYc,EACZb,UAAWc,EACX7J,OAAQA,IAEVuC,OAAQV,EAAWU,SAKrB,GAFAsB,aAAa9B,IAERiI,EAASxH,GAAI,CAAC,IAADC,EAChB,MAAMC,QAAkBsH,EAASrH,OAAOC,MAAM,MAAS,IACvD,MAAM,IAAI7C,OAAqB,QAAf0C,EAAAC,EAAUzB,aAAK,IAAAwB,OAAA,EAAfA,EAAiBI,UAAO,iBAAqBmH,EAASjH,OACxE,CAEA,MAAMG,QAAa8G,EAASrH,OAEc,IAADoB,EAAzC,IAAKb,EAAKC,UAAYD,EAAKiG,aACzB,MAAM,IAAIpJ,OAAgB,QAAVgE,EAAAb,EAAKjC,aAAK,IAAA8C,OAAA,EAAVA,EAAYlB,UAAW,yCAGzCuG,EAAgBlG,EAAKiG,cACjBjG,EAAK7B,WACPgI,EAAanG,EAAK7B,UAGtB,CAAE,MAAOgC,GACPQ,aAAa9B,GAGb,IAAIiC,EAAe,mDAEF,eAAbX,EAAI/C,KACN0D,EAAe,0EACNX,EAAIR,QAAQoB,SAAS,oBAAsBZ,EAAIR,QAAQoB,SAAS,gBACzED,EAAe,sEACNX,EAAIR,UACbmB,EAAeX,EAAIR,SAGrB3B,EAAS8C,GACTtC,QAAQT,MAAM,iCAAkCoC,GAChD6F,GAAa,EACf,GAGFgB,IACC,CAAC/I,EAAS2H,EAAYC,EAAW/I,KAGpCtB,EAAAA,EAAAA,WAAU,KACmBkD,WACzB,GAAKuH,GAAiBG,EAAYG,QAElC,IACE,MAAMxO,QAAe8J,EAAc0E,QAEnC,IAAKxO,EACH,MAAM,IAAI8E,MAAM,yBAIlB,MAAMoK,QAAiBlP,EAAOmP,qBAAqB,CACjDjB,iBAGF,IAAKgB,EACH,MAAM,IAAIpK,MAAM,wCAGlBoK,EAASE,MAAMf,EAAYG,SAC3BD,EAAiBC,QAAUU,EAC3BjB,GAAa,GAGc,mBAAhBiB,EAASG,IAClBH,EAASG,GAAG,WAAY,KACtBC,KAIN,CAAE,MAAOlH,GACPnC,EAASmC,EAAIR,SAAW,6DACxBnB,QAAQT,MAAM,2BAA4BoC,GAC1C6F,GAAa,EACf,GAGFsB,GAGO,KACDhB,EAAiBC,SACnBD,EAAiBC,QAAQgB,YAG5B,CAACtB,IAGJ,MAAMoB,EAAyBA,KAE7B,MAEMG,EAFY,IAAIpJ,gBAAgBF,OAAOG,SAASC,QACnBC,IAAI,eACIJ,EAK3C,GAHAK,QAAQiJ,IAAI,kCAAmCD,GAG3C5B,EAAY,CACd,MAAM8B,EAAY9B,EAAW7E,SAAS,KAAO,IAAM,IAC7C4G,EAAcH,EAAc,GAC3B5B,EAAa8B,EAAS,WAAWF,EACpC5B,EACJpH,QAAQiJ,IAAI,kBAAmBE,GAC/BzJ,OAAOG,SAASuI,KAAOe,CACzB,GAYF,OACElQ,EAAAA,cAAA,OAAKC,UAAU,UACZqG,GACCtG,EAAAA,cAAA,OAAKC,UAAU,qEACbD,EAAAA,cAAA,KAAGC,UAAU,sBAAqB,iBAClCD,EAAAA,cAAA,KAAGC,UAAU,QAAQqG,GACrBtG,EAAAA,cAAA,UACEE,QAfUiQ,KAClB5J,EAAS,IACTgI,GAAa,GACbE,EAAgB,IAEhBhI,OAAOG,SAASwJ,UAWRnQ,UAAU,gGACX,UAMJqO,IAAchI,GACbtG,EAAAA,cAAA,OAAKC,UAAU,0CACbD,EAAAA,cAAA,OAAKC,UAAU,eACbD,EAAAA,cAAA,OAAKC,UAAU,qFACfD,EAAAA,cAAA,KAAGC,UAAU,iBAAgB,gCAKnCD,EAAAA,cAAA,OACEqQ,IAAK1B,EACL1O,UAAWqO,GAAahI,EAAQ,SAAW,GAC3ClC,MAAO,CAAEY,gBAAiB,c,yDCpKlC,IA1C6BrF,IAItB,IAJuB,UAC5B4D,EAAS,WACT4K,EAAU,UACVC,GACDzO,EAEC,IAAK4D,EACH,MAAM,IAAI6B,MAAM,gDAIlB,MAAMC,GAASC,EAGTkB,EAAmDjD,EAAUjD,OAAOE,SAE1E,OACER,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAAC0F,EAAAA,EAAM,KACL1F,EAAAA,cAAA,aAAO,cAAYuD,EAAU9C,KAAKC,OAClCV,EAAAA,cAAA,QAAM2F,KAAK,cAAcC,QAAO,6BAA+BrC,EAAU9C,KAAKC,QAC9EV,EAAAA,cAAA,QAAM2F,KAAK,SAASC,QAAQ,uBAI7BP,EAODrF,EAAAA,cAACsQ,EAAAA,EAAc,CACb9J,QAASA,EACT2H,WAAYA,EACZC,UAAWA,EACX/I,OAAQA,K","sources":["webpack://assume-wisely-blog/./src/funnel-0ps/components/OfferSelection.js","webpack://assume-wisely-blog/./src/data/offers/results-now-ai-action-pack.js","webpack://assume-wisely-blog/./src/funnel-0ps/components/OfferContent.js","webpack://assume-wisely-blog/./src/funnel-0ps/templates/OfferPageTemplate.js","webpack://assume-wisely-blog/./src/funnel-0ps/templates/OTOPageTemplate.js","webpack://assume-wisely-blog/./src/funnel-0ps/templates/UpsellPageTemplate.js","webpack://assume-wisely-blog/./node_modules/@stripe/stripe-js/dist/index.mjs","webpack://assume-wisely-blog/./src/funnel-0ps/components/StripeCheckout.js","webpack://assume-wisely-blog/./src/funnel-0ps/templates/CheckoutPageTemplate.js"],"sourcesContent":["import React from 'react'\nimport { navigate } from 'gatsby'\n\n/**\n * Reusable Offer Selection Component\n * \n * Displays two buttons for offer decision: primary (proceed to checkout) and secondary (decline).\n * Used across offer pages to maintain consistent navigation and styling.\n * \n * @param {string} checkoutUrl - URL to navigate when primary button is clicked (required)\n * @param {string} declineUrl - URL to navigate when secondary button is clicked (required)\n * @param {string} primaryText - Text for primary button (default: \"Yes Please\")\n * @param {string} secondaryText - Text for secondary button (default: \"no thanks\")\n */\nconst OfferSelection = ({ checkoutUrl, declineUrl, primaryText, secondaryText }) => {\n  const handlePrimaryClick = () => {\n    if (checkoutUrl) {\n      navigate(checkoutUrl)\n    }\n  }\n\n  const handleSecondaryClick = () => {\n    if (declineUrl) {\n      navigate(declineUrl)\n    }\n  }\n\n  return (\n    <div className=\"text-center space-y-4 mt-8\">\n      {/* Primary Button - Proceed to Checkout */}\n      <button\n        onClick={handlePrimaryClick}\n        className=\"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-8 text-xl rounded-lg transition duration-200 shadow-lg hover:shadow-xl\"\n      >\n        {primaryText || \"Yes Please\"}\n      </button>\n\n      {/* Secondary Button - Decline Offer */}\n      <button\n        onClick={handleSecondaryClick}\n        className=\"block w-full text-blue-600 hover:text-blue-800 underline bg-transparent border-0 cursor-pointer\"\n      >\n        {secondaryText || \"no thanks\"}\n      </button>\n    </div>\n  )\n}\n\nexport default OfferSelection\n","/**\n * Offer Data: Results Now AI Action Pack\n * \n * This file contains all the content and configuration for this specific offer.\n * To create a new offer, duplicate this file and update the values.\n */\n\nexport const offerData = {\n    // Stripe Configuration\n    stripe: {\n        test_priceId: 'price_1SReks2uBHxDuQdErHcHumBk', // Replace with actual Stripe Price ID\n        price_id: 'price_1SReij2w8fx5rDMT84QKwhmr'\n    },\n\n    // Meta Information (SEO)\n    meta: {\n        title: \"Limited One Time Offer - You 2.0\",\n        description: \"Limited time offer - Start saving time with AI before Day 1 of You 2.0\",\n        keywords: \"AI course, limited offer, productivity, time saving\",\n        author: \"Rho Lall\"\n    },\n\n    // Pre-Hero Section (appears before main headline)\n    pre_hero_section: {\n        // Text that appears above the progress bar\n        text_above_progress: \"You are almost there . . .\",\n        \n        // Progress bar configuration\n        progress_bar: {\n            width: '60%',                                                    // How full the bar appears (e.g., '60%', '80%', '100%')\n            gradient: 'linear-gradient(90deg, #3B82F6 0%, #10B981 100%)',  // Color gradient for the bar\n            text: \"Progressing...\"                                          // Text inside the bar (can be overridden by progressText prop in page)\n        },\n        \n        // Text that appears below the progress bar (optional)\n        text_below_progress: \"\"  // Leave empty or add text like \"Just one more step...\"\n    },\n\n    // Hero Section (main offer headline and pricing)\n    hero_section: {\n        headline: \"Limited ONE TIME Offer\",                                                                 // Main headline\n        sub_headline: \"**Start saving time with AI**\\nbefore Day 1 of You 2.0:\\nBecome an AI emPowered Human\",  // Subheadline (supports markdown, \\n for line breaks)\n        offer_price: \"TODAY ONLY $27\"                                                                       // Price display\n    },\n\n    // Product Section (detailed offer description)\n    product_section: {\n        // Product description (markdown supported)\n        copy: `You just unlocked You 2.0: Become an AI emPowered Human. But what if you could get your first real win today?\n\n**This is your implementation shortcut.**\n\nThe Results Now AI Action Pack gives you practical tools that bridge the gap between theory and thruput. See results before you start the You 2.0 eCourse.\n\nNo overthinking. No overwhelm.\n\n**Just momentum. Right now.**\n\n## What's Inside the AI Action Pack ‚Äî Total Value $175+\n\nGet plug-and-play tools that save time, reduce friction, and help you act fast:\n\n### üß† Automate Your Brain Template Pack ‚Äî $47 Value\nPaste and play ready-made workflows to streamline your day, cut mental drag, but build mental muscle.\n\n### ‚úçÔ∏è JIRA EPIC Story Writer ‚Äî $57 Value\nYour team does great work. This tool helps them communicate it. Designed to turn scattered notes and half-finished tickets into crisp stories that showcase real business value.\n\n### ü§ñ AI Decision Coach Agent ‚Äî $37 Value\nGet clarity on your next move. This agent walks you through structured questions to speed up tough calls.\n\n### ‚è±Ô∏è Time Audit + Task Organizer (Lite) ‚Äî $37 Value\nSpot your biggest time leaks. Organize chaos into calm with this Notion-powered task triage tool. Built for serious productivity. Once it starts working, it keeps working. It will reshape how you operate.\n\n*It's one of my only tools that I've stopped using... and it still works!*\n\n### üéÅ THIS WEEK ONLY: Project Planning Agent (Ash)\nGo from \"someday project\" to next action in 3 minutes or less. Thinks like a Chief of Staff.\n\n## Get the AI Action Pack for $27\n\n‚úÖ $225+ Value\n‚è≥ Today only ‚Äî just $27\n\nBecause you just joined You 2.0, you get:\n- 4 time-saving AI tools\n- 1 bonus project manager\n- Zero fluff, Just momentum\n\n### üí° Why so cheap?\nYou're here to move fast. This pack helps you do exactly that.\n`\n    },\n\n    // Offer Section (appears after product copy, before buttons - centered)\n    offer_section: {\n        headline: \"Get the AI Action Pack for $27\",                         // Main offer headline (centered, green)\n        sub_headline: \"‚úÖ $225+ Value  ‚è≥ Today only ‚Äî just $27\"            // Offer subheadline (centered)\n    },\n\n    // CTA Section (bottom call-to-action)\n    cta_section: {\n        headline: \"Get my Results Now AI Action Pack today!\",\n    },\n\n    // Button Text (optional - leave empty to use defaults)\n    buttons: {\n        primary_text: \"\",           // Default: \"Yes Please\"\n        secondary_text: \"\"          // Default: \"No thanks\"\n    },\n\n    // Visual Styling\n    colors: {\n        accent_color: \"rgb(186, 215, 57)\",\n        background_dark: \"rgba(19, 47, 69)\",\n        price_color: \"red\",\n        value_color: \"green\"\n    },\n\n    // Timer Configuration\n    show_timer: true,                           // Set to false to hide timer\n    timer_minutes: 10                           // Countdown duration in minutes\n}\n\nexport default offerData\n","import React, { useState, useEffect } from 'react'\nimport { StaticImage } from 'gatsby-plugin-image'\nimport ReactMarkdown from 'react-markdown'\n\n/**\n * Offer Content Component\n * \n * Reusable component for displaying offer content.\n * Designed to be scalable for multiple different offers.\n * \n * @param {Object} offerData - The offer content data (headline, copy, pricing, etc.)\n * @param {React.ReactNode} productImage - Product image to display after timer (optional)\n * @param {React.ReactNode} children - Purchase buttons/components to render\n * @param {string} progressText - Text to display in progress bar (default: \"Progressing...\")\n * @param {number} timerMinutes - Countdown timer duration in minutes (default: 10)\n */\nconst OfferContent = ({ \n    offerData, \n    productImage,\n    children, \n    progressText = \"Progressing...\", \n    timerMinutes = 10\n}) => {\n    const [timeLeft, setTimeLeft] = useState(timerMinutes * 60) // Convert minutes to seconds\n\n    useEffect(() => {\n        const timer = setInterval(() => {\n            setTimeLeft(prevTime => {\n                if (prevTime <= 1) {\n                    clearInterval(timer)\n                    return 0\n                }\n                return prevTime - 1\n            })\n        }, 1000)\n\n        return () => clearInterval(timer)\n    }, [])\n\n    const formatTime = (seconds) => {\n        const minutes = Math.floor(seconds / 60)\n        const remainingSeconds = seconds % 60\n        return `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`\n    }\n\n    return (\n        <>\n            {/* Hero Section */}\n            <section className=\"offer-section bg-white px-6\">\n                <div className=\"max-w-4xl mx-auto text-center\">\n\n                    {/* Pre-Hero: Text above progress bar */}\n                    {offerData.pre_hero_section?.text_above_progress && (\n                        <p className=\"text-xl text-gray-700 mb-2\">\n                            {offerData.pre_hero_section.text_above_progress}\n                        </p>\n                    )}\n\n                    {/* Progress Bar */}\n                    <div className=\"mb-2\">\n                        <div className=\"w-full bg-gray-200 rounded-full h-8 relative overflow-hidden\">\n                            <div\n                                className=\"h-8 rounded-full transition-all duration-300 relative\"\n                                style={{\n                                    width: offerData.pre_hero_section?.progress_bar?.width || '60%',\n                                    background: offerData.pre_hero_section?.progress_bar?.gradient || 'linear-gradient(90deg, #3B82F6 0%, #10B981 100%)'\n                                }}\n                            >\n                                <span className=\"absolute inset-0 flex items-center justify-center text-white font-semibold text-sm\">\n                                    {progressText}\n                                </span>\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* Pre-Hero: Text below progress bar */}\n                    {offerData.pre_hero_section?.text_below_progress && (\n                        <p className=\"text-lg text-gray-600 mb-4\">\n                            {offerData.pre_hero_section.text_below_progress}\n                        </p>\n                    )}\n\n                    {/* Offer Headline */}\n                    <h1 className=\"hero-headline text-3xl md:text-5xl font-bold text-gray-900 mb-2 leading-tight\" style={{ whiteSpace: 'pre-line' }}>\n                        {offerData.hero_section?.headline}\n                    </h1>\n\n                    <div className=\"offer-price text-4xl md:text-6xl font-bold text-red-600\">\n                        {offerData.hero_section?.offer_price}\n                    </div>\n\n                    {offerData.hero_section?.sub_headline && (\n                        <div className=\"hero-sub-headline text-2xl md:text-3xl text-gray-700 mb-4 leading-relaxed mt-4\" style={{ whiteSpace: 'pre-line' }}>\n                            <ReactMarkdown>{offerData.hero_section.sub_headline}</ReactMarkdown>\n                        </div>\n                    )}\n\n                    {/* Countdown Timer */}\n                    {offerData.show_timer !== false && (\n                        <div className=\"inline-block\">\n                            <div className=\"text-4xl md:text-6xl font-bold text-black\" style={{ fontFamily: 'monospace, \"Courier New\", Courier' }}>\n                                {formatTime(timeLeft)}\n                            </div>\n                            <p className=\"text-sm mt-2 text-gray-600\">Minutes : Seconds</p>\n                        </div>\n                    )}\n\n                    {/* Product Image - Renders after timer if provided */}\n                    {productImage && (\n                        <div className=\"mt-8\">\n                            {productImage}\n                        </div>\n                    )}\n\n                </div>\n            </section>\n\n            {/* Product Section*/}\n            <section className=\"product-section bg-white py-16 px-6\">\n                <div className=\"max-w-4xl mx-auto\">\n                    <div>\n                        <div className='product-copy'>\n                            {/* Product copy content */}\n                            <div className=\"product-copy-content\">\n                                <ReactMarkdown>{offerData.product_section?.copy}</ReactMarkdown>\n                            </div>\n                        </div>\n\n                        {/* Offer Section - Centered headline and subheadline */}\n                        {(offerData.offer_section?.headline || offerData.offer_section?.sub_headline) && (\n                            <div className=\"offer-section-content text-center mt-8 mb-6\">\n                                {offerData.offer_section?.headline && (\n                                    <h2 className=\"text-3xl md:text-4xl font-bold text-green-600 mb-2\">\n                                        {offerData.offer_section.headline}\n                                    </h2>\n                                )}\n                                {offerData.offer_section?.sub_headline && (\n                                    <p className=\"text-xl md:text-2xl text-gray-700\">\n                                        {offerData.offer_section.sub_headline}\n                                    </p>\n                                )}\n                            </div>\n                        )}\n\n                        {/* Render children (purchase buttons) */}\n                        {children}\n                    </div>\n                </div>\n            </section>\n\n            {/* CTA Section */}\n            {offerData.cta_section?.headline && (\n                <section className=\"cta-section py-4 px-6\" style={{ backgroundColor: offerData.colors?.background_dark || 'rgba(19, 47, 69)' }}>\n                    <div className=\"max-w-4xl mx-auto text-center\">\n                        <h1 className=\"cta-headline text-3xl md:text-4xl font-bold text-white leading-tight\">\n                            {offerData.cta_section.headline}\n                        </h1>\n                    </div>\n                </section>\n            )}\n        </>\n    )\n}\n\nexport default OfferContent\n","import React from 'react'\nimport { Helmet } from 'react-helmet'\nimport OfferContent from '../components/OfferContent'\nimport OfferSelection from '../components/OfferSelection'\n\n/**\n * Offer Page Template\n * \n * Reusable template for offer pages that handles all boilerplate:\n * - Layout wrapper (provided by consuming project)\n * - Helmet/SEO configuration\n * - Test mode banner\n * - OfferContent component integration\n * - OfferSelection component integration\n * \n * @param {Object} Layout - Layout component from consuming project (required)\n * @param {Object} offerData - Offer configuration object (required)\n * @param {string} checkoutUrl - URL to checkout page (required)\n * @param {string} declineUrl - URL when declining offer (required)\n * @param {React.ReactNode} productImage - Product image component (optional)\n */\nconst OfferPageTemplate = ({ \n  Layout, \n  offerData, \n  checkoutUrl, \n  declineUrl, \n  productImage \n}) => {\n  // Validate required props\n  if (!Layout) {\n    throw new Error('OfferPageTemplate requires Layout prop')\n  }\n  if (!offerData) {\n    throw new Error('OfferPageTemplate requires offerData prop')\n  }\n  if (!checkoutUrl) {\n    throw new Error('OfferPageTemplate requires checkoutUrl prop')\n  }\n  if (!declineUrl) {\n    throw new Error('OfferPageTemplate requires declineUrl prop')\n  }\n\n  // Check if we're in test mode\n  const isTest = process.env.GATSBY_ISTEST === 'true'\n  \n  // Add TEST indicator to button text if in test mode\n  const primaryButtonText = offerData.buttons?.primary_text || \"Yes Please\"\n  const displayPrimaryText = isTest ? `${primaryButtonText} (TEST)` : primaryButtonText\n\n  return (\n    <Layout pageTitle={offerData.meta.title}>\n      <Helmet>\n        <title>{offerData.meta.title}</title>\n        <meta name=\"description\" content={offerData.meta.description} />\n        <meta name=\"keywords\" content={offerData.meta.keywords} />\n        <meta name=\"author\" content={offerData.meta.author} />\n      </Helmet>\n\n      {/* Test Mode Banner */}\n      {isTest && (\n        <div className=\"bg-yellow-400 text-black text-center py-2 px-4 font-bold\">\n          ‚ö†Ô∏è TEST MODE - Using test Stripe keys and test price IDs\n        </div>\n      )}\n\n      <OfferContent \n        offerData={offerData}\n        timerMinutes={offerData.timer_minutes}\n        productImage={productImage}\n      >\n        {/* Offer Selection Buttons */}\n        <OfferSelection \n          checkoutUrl={checkoutUrl}\n          declineUrl={declineUrl}\n          primaryText={displayPrimaryText}\n          secondaryText={offerData.buttons?.secondary_text || \"No thanks\"}\n        />\n      </OfferContent>\n    </Layout>\n  )\n}\n\nexport default OfferPageTemplate\n","import React from 'react'\nimport { Helmet } from 'react-helmet'\nimport OTOContent from '../components/OTOContent'\nimport OfferSelection from '../components/OfferSelection'\n\n/**\n * OTO Page Template\n * \n * Reusable template for OTO (One-Time Offer) pages that handles all boilerplate:\n * - Layout wrapper (provided by consuming project)\n * - Helmet/SEO configuration\n * - Test mode banner\n * - OTOContent component integration\n * - OfferSelection component integration\n * \n * @param {Object} Layout - Layout component from consuming project (required)\n * @param {Object} offerData - OTO configuration object (required)\n * @param {string} checkoutUrl - URL to checkout page (required)\n * @param {string} declineUrl - URL when declining offer (required)\n * @param {React.ReactNode} productImage - Product image component (optional)\n */\nconst OTOPageTemplate = ({ \n  Layout, \n  offerData, \n  checkoutUrl, \n  declineUrl, \n  productImage \n}) => {\n  // Validate required props\n  if (!Layout) {\n    throw new Error('OTOPageTemplate requires Layout prop')\n  }\n  if (!offerData) {\n    throw new Error('OTOPageTemplate requires offerData prop')\n  }\n  if (!checkoutUrl) {\n    throw new Error('OTOPageTemplate requires checkoutUrl prop')\n  }\n  if (!declineUrl) {\n    throw new Error('OTOPageTemplate requires declineUrl prop')\n  }\n\n  // Check if we're in test mode\n  const isTest = process.env.GATSBY_ISTEST === 'true'\n  \n  // Add TEST indicator to button text if in test mode\n  const primaryButtonText = offerData.buttons?.primary_text || \"Yes, I Want This\"\n  const displayPrimaryText = isTest ? `${primaryButtonText} (TEST)` : primaryButtonText\n\n  return (\n    <Layout pageTitle={offerData.meta.title}>\n      <Helmet>\n        <title>{offerData.meta.title}</title>\n        <meta name=\"description\" content={offerData.meta.description} />\n        <meta name=\"keywords\" content={offerData.meta.keywords} />\n        <meta name=\"author\" content={offerData.meta.author} />\n        <meta name=\"robots\" content=\"noindex, nofollow\" />\n      </Helmet>\n\n      {/* Test Mode Banner */}\n      {isTest && (\n        <div className=\"bg-yellow-400 text-black text-center py-2 px-4 font-bold\">\n          ‚ö†Ô∏è TEST MODE - Using test Stripe keys and test price IDs\n        </div>\n      )}\n\n      <OTOContent \n        offerData={offerData}\n        timerMinutes={offerData.timer_minutes}\n        productImage={productImage}\n      >\n        {/* Offer Selection Buttons */}\n        <OfferSelection \n          checkoutUrl={checkoutUrl}\n          declineUrl={declineUrl}\n          primaryText={displayPrimaryText}\n          secondaryText={offerData.buttons?.secondary_text || \"No thanks, take me to my purchase\"}\n        />\n      </OTOContent>\n    </Layout>\n  )\n}\n\nexport default OTOPageTemplate\n","import React, { useState, useEffect } from 'react'\nimport { Helmet } from 'react-helmet'\nimport { navigate } from 'gatsby'\nimport OTOContent from '../components/OTOContent'\n\n/**\n * Upsell Page Template\n * \n * Reusable template for one-click upsell pages that handles all boilerplate:\n * - Layout wrapper (provided by consuming project)\n * - Helmet/SEO configuration\n * - Test mode banner\n * - Session ID extraction from URL\n * - One-click upsell API integration\n * - OTOContent component integration\n * - Error handling and loading states\n * \n * @param {Object} Layout - Layout component from consuming project (required)\n * @param {Object} offerData - OTO configuration object (required)\n * @param {string} declineUrl - URL when declining offer (required)\n * @param {string} getUpsellTokenApi - API endpoint for getting upsell token (optional)\n * @param {string} oneClickUpsellApi - API endpoint for one-click upsell (optional)\n */\nconst UpsellPageTemplate = ({ \n  Layout, \n  offerData, \n  declineUrl,\n  getUpsellTokenApi = 'https://payment.bulldozer.life/ecommerce/get-upsell-token',\n  oneClickUpsellApi = 'https://payment.bulldozer.life/ecommerce/one-click-upsell'\n}) => {\n  // Validate required props\n  if (!Layout) {\n    throw new Error('UpsellPageTemplate requires Layout prop')\n  }\n  if (!offerData) {\n    throw new Error('UpsellPageTemplate requires offerData prop')\n  }\n  if (!declineUrl) {\n    throw new Error('UpsellPageTemplate requires declineUrl prop')\n  }\n\n  const [stripeSessionId, setStripeSessionId] = useState('')\n  const [isProcessing, setIsProcessing] = useState(false)\n  const [error, setError] = useState('')\n\n  // Determine if we're in test mode\n  const isTest = process.env.GATSBY_ISTEST === 'true'\n  \n  // Select the correct price ID based on test mode\n  const priceId = isTest ? offerData.stripe.test_priceId : offerData.stripe.price_id\n\n  // Extract Stripe session ID from URL on mount\n  useEffect(() => {\n    if (typeof window === 'undefined') return\n\n    const urlParams = new URLSearchParams(window.location.search)\n    const sessionId = urlParams.get('session_id')\n    \n    if (!sessionId) {\n      console.warn('No session_id found in URL')\n      navigate(declineUrl)\n      return\n    }\n\n    setStripeSessionId(sessionId)\n  }, [declineUrl])\n\n  // Handle one-click purchase\n  const handlePurchase = async () => {\n    if (!stripeSessionId) {\n      setError('Invalid session. Please try again.')\n      return\n    }\n\n    setIsProcessing(true)\n    setError('')\n\n    // Create abort controller for timeout handling\n    const controller = new AbortController()\n    const timeoutId = setTimeout(() => controller.abort(), 30000) // 30 second timeout\n\n    try {\n      // Step 1: Get UUID from Stripe session ID with retry logic\n      // Retry up to 10 times with exponential backoff (webhook may still be processing)\n      let uuidData = null\n      let lastError = null\n      \n      for (let i = 0; i < 10; i++) {\n        try {\n          const uuidResponse = await fetch(`${getUpsellTokenApi}?session_id=${stripeSessionId}&isTest=${isTest}`, {\n            signal: controller.signal,\n          })\n\n          if (!uuidResponse.ok) {\n            const errorData = await uuidResponse.json().catch(() => ({}))\n            lastError = new Error(errorData.error?.message || 'Failed to retrieve session')\n            \n            // If it's a \"not found\" error, retry with backoff\n            if (errorData.found === false || uuidResponse.status === 404) {\n              await new Promise(resolve => setTimeout(resolve, 1000 * (i + 1))) // Exponential backoff\n              continue\n            }\n            \n            // For other errors, throw immediately\n            throw lastError\n          }\n\n          const data = await uuidResponse.json()\n          \n          if (data.success && data.upsellToken) {\n            uuidData = data\n            break\n          }\n          \n          // Session not ready yet, retry with backoff\n          if (data.found === false) {\n            await new Promise(resolve => setTimeout(resolve, 1000 * (i + 1)))\n            continue\n          }\n          \n          throw new Error('Invalid session response')\n          \n        } catch (err) {\n          if (err.name === 'AbortError') throw err // Don't retry on timeout\n          lastError = err\n          \n          // Last attempt failed\n          if (i === 9) throw lastError\n          \n          // Retry with backoff\n          await new Promise(resolve => setTimeout(resolve, 1000 * (i + 1)))\n        }\n      }\n      \n      if (!uuidData || !uuidData.upsellToken) {\n        throw new Error(lastError?.message || 'Payment session not ready. Please try again.')\n      }\n\n      // Step 2: Process one-click upsell with UUID\n      const upsellResponse = await fetch(oneClickUpsellApi, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          upsellToken: uuidData.upsellToken,\n          priceId: priceId,\n        }),\n        signal: controller.signal,\n      })\n\n      clearTimeout(timeoutId)\n\n      if (!upsellResponse.ok) {\n        const errorData = await upsellResponse.json().catch(() => ({}))\n        throw new Error(errorData.error?.message || `Server error: ${upsellResponse.status}`)\n      }\n\n      const data = await upsellResponse.json()\n\n      if (!data.success) {\n        throw new Error(data.error?.message || 'Payment failed. Please try again.')\n      }\n\n      // Success - redirect to decline URL (typically thank you page)\n      navigate(declineUrl)\n\n    } catch (err) {\n      clearTimeout(timeoutId)\n\n      // Handle specific error types\n      let errorMessage = 'Unable to process payment. Please try again.'\n\n      if (err.name === 'AbortError') {\n        errorMessage = 'Request timed out. Please check your internet connection and try again.'\n      } else if (err.message.includes('Failed to fetch') || err.message.includes('NetworkError')) {\n        errorMessage = 'Network error. Please check your internet connection and try again.'\n      } else if (err.message) {\n        errorMessage = err.message\n      }\n\n      setError(errorMessage)\n      console.error('One-click upsell error:', err)\n      setIsProcessing(false)\n    }\n  }\n\n  // Handle decline - redirect to decline URL\n  const handleDecline = () => {\n    navigate(declineUrl)\n  }\n\n  return (\n    <Layout pageTitle={offerData.meta.title}>\n      <Helmet>\n        <title>{offerData.meta.title}</title>\n        <meta name=\"description\" content={offerData.meta.description} />\n        <meta name=\"robots\" content=\"noindex, nofollow\" />\n      </Helmet>\n\n      {/* Test Mode Banner */}\n      {isTest && (\n        <div className=\"bg-yellow-400 text-black text-center py-2 px-4 font-bold\">\n          ‚ö†Ô∏è TEST MODE - Using test Stripe keys and test price IDs\n        </div>\n      )}\n\n      <OTOContent \n        offerData={offerData}\n        progressText=\"Congratulations! One More Thing...\"\n        timerMinutes={offerData.timer_minutes}\n      >\n        {/* Error Message */}\n        {error && (\n          <div className=\"mb-6 p-4 rounded-lg bg-red-100 border border-red-400 text-red-700\">\n            <p className=\"font-semibold mb-1\">Payment Error</p>\n            <p>{error}</p>\n          </div>\n        )}\n\n        {/* One-Click Purchase Buttons */}\n        <div className=\"text-center space-y-4 mt-8\">\n          {/* One-Click Purchase Button */}\n          <button\n            onClick={handlePurchase}\n            disabled={isProcessing || !stripeSessionId}\n            className={`w-full font-bold py-4 px-8 text-xl rounded-lg transition duration-200 shadow-lg hover:shadow-xl ${\n              isProcessing || !stripeSessionId\n                ? 'bg-gray-400 cursor-not-allowed'\n                : 'bg-green-600 hover:bg-green-700 text-white'\n            }`}\n          >\n            {isProcessing ? (\n              <span className=\"flex items-center justify-center gap-2\">\n                <svg className=\"animate-spin h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n                Processing...\n              </span>\n            ) : (\n              offerData.buttons.primary_text || 'Yes! Add This To My Order'\n            )}\n          </button>\n\n          {/* Decline Button */}\n          <button\n            onClick={handleDecline}\n            disabled={isProcessing}\n            className=\"block w-full text-blue-600 hover:text-blue-800 underline bg-transparent border-0 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {offerData.buttons.secondary_text || \"No thanks, I'll pass on this offer\"}\n          </button>\n        </div>\n\n        {/* Trust Indicators */}\n        <div className=\"mt-8 pt-8 border-t border-gray-200\">\n          <div className=\"flex flex-wrap justify-center items-center gap-6 text-sm text-gray-600\">\n            <div className=\"flex items-center gap-2\">\n              <svg className=\"w-5 h-5 text-green-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n              </svg>\n              <span>Secure Payment</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <svg className=\"w-5 h-5 text-green-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                <path fillRule=\"evenodd\" d=\"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n              </svg>\n              <span>One-Click Checkout</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <svg className=\"w-5 h-5 text-green-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n              </svg>\n              <span>Money-Back Guarantee</span>\n            </div>\n          </div>\n        </div>\n      </OTOContent>\n    </Layout>\n  )\n}\n\nexport default UpsellPageTemplate\n","var RELEASE_TRAIN = 'clover';\n\nvar runtimeVersionToUrlVersion = function runtimeVersionToUrlVersion(version) {\n  return version === 3 ? 'v3' : version;\n};\n\nvar ORIGIN = 'https://js.stripe.com';\nvar STRIPE_JS_URL = \"\".concat(ORIGIN, \"/\").concat(RELEASE_TRAIN, \"/stripe.js\");\nvar V3_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/v3\\/?(\\?.*)?$/;\nvar STRIPE_JS_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/(v3|[a-z]+)\\/stripe\\.js(\\?.*)?$/;\nvar EXISTING_SCRIPT_MESSAGE = 'loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used';\n\nvar isStripeJSURL = function isStripeJSURL(url) {\n  return V3_URL_REGEX.test(url) || STRIPE_JS_URL_REGEX.test(url);\n};\n\nvar findScript = function findScript() {\n  var scripts = document.querySelectorAll(\"script[src^=\\\"\".concat(ORIGIN, \"\\\"]\"));\n\n  for (var i = 0; i < scripts.length; i++) {\n    var script = scripts[i];\n\n    if (!isStripeJSURL(script.src)) {\n      continue;\n    }\n\n    return script;\n  }\n\n  return null;\n};\n\nvar injectScript = function injectScript(params) {\n  var queryString = params && !params.advancedFraudSignals ? '?advancedFraudSignals=false' : '';\n  var script = document.createElement('script');\n  script.src = \"\".concat(STRIPE_JS_URL).concat(queryString);\n  var headOrBody = document.head || document.body;\n\n  if (!headOrBody) {\n    throw new Error('Expected document.body not to be null. Stripe.js requires a <body> element.');\n  }\n\n  headOrBody.appendChild(script);\n  return script;\n};\n\nvar registerWrapper = function registerWrapper(stripe, startTime) {\n  if (!stripe || !stripe._registerWrapper) {\n    return;\n  }\n\n  stripe._registerWrapper({\n    name: 'stripe-js',\n    version: \"8.5.2\",\n    startTime: startTime\n  });\n};\n\nvar stripePromise$1 = null;\nvar onErrorListener = null;\nvar onLoadListener = null;\n\nvar onError = function onError(reject) {\n  return function (cause) {\n    reject(new Error('Failed to load Stripe.js', {\n      cause: cause\n    }));\n  };\n};\n\nvar onLoad = function onLoad(resolve, reject) {\n  return function () {\n    if (window.Stripe) {\n      resolve(window.Stripe);\n    } else {\n      reject(new Error('Stripe.js not available'));\n    }\n  };\n};\n\nvar loadScript = function loadScript(params) {\n  // Ensure that we only attempt to load Stripe.js at most once\n  if (stripePromise$1 !== null) {\n    return stripePromise$1;\n  }\n\n  stripePromise$1 = new Promise(function (resolve, reject) {\n    if (typeof window === 'undefined' || typeof document === 'undefined') {\n      // Resolve to null when imported server side. This makes the module\n      // safe to import in an isomorphic code base.\n      resolve(null);\n      return;\n    }\n\n    if (window.Stripe && params) {\n      console.warn(EXISTING_SCRIPT_MESSAGE);\n    }\n\n    if (window.Stripe) {\n      resolve(window.Stripe);\n      return;\n    }\n\n    try {\n      var script = findScript();\n\n      if (script && params) {\n        console.warn(EXISTING_SCRIPT_MESSAGE);\n      } else if (!script) {\n        script = injectScript(params);\n      } else if (script && onLoadListener !== null && onErrorListener !== null) {\n        var _script$parentNode;\n\n        // remove event listeners\n        script.removeEventListener('load', onLoadListener);\n        script.removeEventListener('error', onErrorListener); // if script exists, but we are reloading due to an error,\n        // reload script to trigger 'load' event\n\n        (_script$parentNode = script.parentNode) === null || _script$parentNode === void 0 ? void 0 : _script$parentNode.removeChild(script);\n        script = injectScript(params);\n      }\n\n      onLoadListener = onLoad(resolve, reject);\n      onErrorListener = onError(reject);\n      script.addEventListener('load', onLoadListener);\n      script.addEventListener('error', onErrorListener);\n    } catch (error) {\n      reject(error);\n      return;\n    }\n  }); // Resets stripePromise on error\n\n  return stripePromise$1[\"catch\"](function (error) {\n    stripePromise$1 = null;\n    return Promise.reject(error);\n  });\n};\nvar initStripe = function initStripe(maybeStripe, args, startTime) {\n  if (maybeStripe === null) {\n    return null;\n  }\n\n  var pk = args[0];\n  var isTestKey = pk.match(/^pk_test/); // @ts-expect-error this is not publicly typed\n\n  var version = runtimeVersionToUrlVersion(maybeStripe.version);\n  var expectedVersion = RELEASE_TRAIN;\n\n  if (isTestKey && version !== expectedVersion) {\n    console.warn(\"Stripe.js@\".concat(version, \" was loaded on the page, but @stripe/stripe-js@\").concat(\"8.5.2\", \" expected Stripe.js@\").concat(expectedVersion, \". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning\"));\n  }\n\n  var stripe = maybeStripe.apply(undefined, args);\n  registerWrapper(stripe, startTime);\n  return stripe;\n}; // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n\nvar stripePromise;\nvar loadCalled = false;\n\nvar getStripePromise = function getStripePromise() {\n  if (stripePromise) {\n    return stripePromise;\n  }\n\n  stripePromise = loadScript(null)[\"catch\"](function (error) {\n    // clear cache on error\n    stripePromise = null;\n    return Promise.reject(error);\n  });\n  return stripePromise;\n}; // Execute our own script injection after a tick to give users time to do their\n// own script injection.\n\n\nPromise.resolve().then(function () {\n  return getStripePromise();\n})[\"catch\"](function (error) {\n  if (!loadCalled) {\n    console.warn(error);\n  }\n});\nvar loadStripe = function loadStripe() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  loadCalled = true;\n  var startTime = Date.now(); // if previous attempts are unsuccessful, will re-load script\n\n  return getStripePromise().then(function (maybeStripe) {\n    return initStripe(maybeStripe, args, startTime);\n  });\n};\n\nexport { loadStripe };\n","import React, { useState, useEffect, useRef } from 'react';\nimport { loadStripe } from '@stripe/stripe-js';\n\n/**\n * Stripe Embedded Checkout Component\n * \n * Handles embedded Stripe checkout with client secret from backend.\n * Supports one-click upsell flow by capturing session ID after successful payment.\n * \n * @param {string} priceId - Stripe Price ID for the product (required)\n * @param {string} successUrl - URL to redirect after successful payment (optional)\n * @param {string} cancelUrl - URL to redirect on cancel (optional)\n * @param {boolean} isTest - Whether to use test mode (optional, defaults based on NODE_ENV)\n */\n\n// Configuration Constants\n// Backend API endpoint for creating Stripe checkout sessions\n// This single endpoint handles both test and live mode based on the keys/price IDs used\nconst STRIPE_API_ENDPOINT = 'https://payment.bulldozer.life/ecommerce/create-checkout-session';\n\n// Stripe publishable keys (loaded from credentials/.env via symlink)\nconst STRIPE_PUBLISHABLE_KEY_TEST = process.env.GATSBY_STRIPE_PUBLISHABLE_KEY_TEST;\nconst STRIPE_PUBLISHABLE_KEY_PROD = process.env.GATSBY_STRIPE_PUBLISHABLE_KEY_PROD;\n\nconst StripeCheckout = ({ priceId, successUrl, cancelUrl, isTest = false }) => {\n  // Determine which Stripe key to use based on isTest prop\n  // Default is LIVE mode (isTest = false), only use test keys when explicitly set to true\n  const STRIPE_PUBLISHABLE_KEY = isTest ? STRIPE_PUBLISHABLE_KEY_TEST : STRIPE_PUBLISHABLE_KEY_PROD;\n  \n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [clientSecret, setClientSecret] = useState('');\n  const [sessionId, setSessionId] = useState('');\n  const checkoutRef = useRef(null);\n  const stripePromise = useRef(null);\n  const checkoutInstance = useRef(null);\n\n  // Initialize Stripe\n  useEffect(() => {\n    if (!stripePromise.current) {\n      stripePromise.current = loadStripe(STRIPE_PUBLISHABLE_KEY);\n    }\n  }, []);\n\n  // Fetch client secret from backend\n  useEffect(() => {\n    const createCheckoutSession = async () => {\n      if (!priceId) {\n        setError('Product price ID is required');\n        setIsLoading(false);\n        return;\n      }\n\n      // Create abort controller for timeout handling\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 30000); // 30 second timeout\n\n      try {\n        const baseUrl = typeof window !== 'undefined' ? window.location.origin : '';\n        const defaultSuccessUrl = successUrl || `${baseUrl}/thankyou`;\n        const defaultCancelUrl = cancelUrl || (typeof window !== 'undefined' ? window.location.href.split('?')[0] : '');\n        \n        const response = await fetch(STRIPE_API_ENDPOINT, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            priceId: priceId,\n            productType: 'offer', // Backend expects 'offer' or 'oto'\n            successUrl: defaultSuccessUrl,\n            cancelUrl: defaultCancelUrl,\n            isTest: isTest, // Pass test mode flag to backend\n          }),\n          signal: controller.signal,\n        });\n\n        clearTimeout(timeoutId);\n\n        if (!response.ok) {\n          const errorData = await response.json().catch(() => ({}));\n          throw new Error(errorData.error?.message || `Server error: ${response.status}`);\n        }\n\n        const data = await response.json();\n        \n        if (!data.success || !data.clientSecret) {\n          throw new Error(data.error?.message || 'No client secret received from server');\n        }\n        \n        setClientSecret(data.clientSecret);\n        if (data.sessionId) {\n          setSessionId(data.sessionId);\n        }\n        \n      } catch (err) {\n        clearTimeout(timeoutId);\n        \n        // Handle specific error types\n        let errorMessage = 'Unable to initialize checkout. Please try again.';\n        \n        if (err.name === 'AbortError') {\n          errorMessage = 'Request timed out. Please check your internet connection and try again.';\n        } else if (err.message.includes('Failed to fetch') || err.message.includes('NetworkError')) {\n          errorMessage = 'Network error. Please check your internet connection and try again.';\n        } else if (err.message) {\n          errorMessage = err.message;\n        }\n        \n        setError(errorMessage);\n        console.error('Checkout initialization error:', err);\n        setIsLoading(false);\n      }\n    };\n\n    createCheckoutSession();\n  }, [priceId, successUrl, cancelUrl, isTest]);\n\n  // Initialize embedded checkout when client secret is available\n  useEffect(() => {\n    const initializeCheckout = async () => {\n      if (!clientSecret || !checkoutRef.current) return;\n\n      try {\n        const stripe = await stripePromise.current;\n        \n        if (!stripe) {\n          throw new Error('Failed to load Stripe');\n        }\n\n        // Mount embedded checkout\n        const checkout = await stripe.initEmbeddedCheckout({\n          clientSecret,\n        });\n\n        if (!checkout) {\n          throw new Error('Failed to initialize Stripe checkout');\n        }\n\n        checkout.mount(checkoutRef.current);\n        checkoutInstance.current = checkout;\n        setIsLoading(false);\n\n        // Listen for checkout completion (if supported)\n        if (typeof checkout.on === 'function') {\n          checkout.on('complete', () => {\n            handleCheckoutComplete();\n          });\n        }\n\n      } catch (err) {\n        setError(err.message || 'Failed to initialize embedded checkout. Please try again.');\n        console.error('Embedded checkout error:', err);\n        setIsLoading(false);\n      }\n    };\n\n    initializeCheckout();\n\n    // Cleanup\n    return () => {\n      if (checkoutInstance.current) {\n        checkoutInstance.current.destroy();\n      }\n    };\n  }, [clientSecret]);\n\n  // Handle successful checkout completion\n  const handleCheckoutComplete = () => {\n    // Extract session ID from URL or use stored session ID\n    const urlParams = new URLSearchParams(window.location.search);\n    const sessionIdFromUrl = urlParams.get('session_id');\n    const finalSessionId = sessionIdFromUrl || sessionId;\n\n    console.log('Checkout complete - Session ID:', finalSessionId);\n\n    // Redirect to success URL with session ID for one-click upsell\n    if (successUrl) {\n      const separator = successUrl.includes('?') ? '&' : '?';\n      const redirectUrl = finalSessionId \n        ? `${successUrl}${separator}session=${finalSessionId}`\n        : successUrl;\n      console.log('Redirecting to:', redirectUrl);\n      window.location.href = redirectUrl;\n    }\n  };\n\n  // Retry initialization\n  const handleRetry = () => {\n    setError('');\n    setIsLoading(true);\n    setClientSecret('');\n    // Re-trigger useEffect by clearing and resetting\n    window.location.reload();\n  };\n\n  return (\n    <div className=\"w-full\">\n      {error && (\n        <div className=\"mb-4 p-4 rounded-lg bg-red-100 border border-red-400 text-red-700\">\n          <p className=\"font-semibold mb-2\">Payment Error</p>\n          <p className=\"mb-3\">{error}</p>\n          <button\n            onClick={handleRetry}\n            className=\"px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-medium rounded transition duration-200\"\n          >\n            Retry\n          </button>\n        </div>\n      )}\n      \n      {isLoading && !error && (\n        <div className=\"flex items-center justify-center py-12\">\n          <div className=\"text-center\">\n            <div className=\"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4\"></div>\n            <p className=\"text-gray-600\">Loading secure checkout...</p>\n          </div>\n        </div>\n      )}\n      \n      <div \n        ref={checkoutRef} \n        className={isLoading || error ? 'hidden' : ''} \n        style={{ backgroundColor: '#ffffff' }}\n      ></div>\n    </div>\n  );\n};\n\nexport default StripeCheckout;\n","import React from 'react'\nimport { Helmet } from 'react-helmet'\nimport StripeCheckout from '../components/StripeCheckout'\n\n/**\n * Checkout Page Template\n * \n * Reusable template for checkout pages that handles all boilerplate:\n * - Helmet/SEO configuration\n * - Test mode detection and banner\n * - StripeCheckout component integration\n * - Responsive layout\n * \n * @param {Object} offerData - Offer configuration object (required)\n * @param {string} successUrl - URL to redirect after successful payment (optional)\n * @param {string} cancelUrl - URL to redirect on cancel (optional)\n */\nconst CheckoutPageTemplate = ({ \n  offerData, \n  successUrl, \n  cancelUrl \n}) => {\n  // Validate required props\n  if (!offerData) {\n    throw new Error('CheckoutPageTemplate requires offerData prop')\n  }\n\n  // Determine if we're in test mode\n  const isTest = process.env.GATSBY_ISTEST === 'true'\n  \n  // Select the correct price ID based on test mode\n  const priceId = isTest ? offerData.stripe.test_priceId : offerData.stripe.price_id\n\n  return (\n    <>\n      <Helmet>\n        <title>Checkout - {offerData.meta.title}</title>\n        <meta name=\"description\" content={`Complete your purchase of ${offerData.meta.title}`} />\n        <meta name=\"robots\" content=\"noindex, nofollow\" />\n      </Helmet>\n\n      {/* Test Mode Banner */}\n      {isTest && (\n        <div className=\"bg-yellow-400 text-black text-center py-2 px-4 font-bold\">\n          ‚ö†Ô∏è TEST MODE - Using test Stripe keys and test price IDs\n        </div>\n      )}\n\n      {/* Embedded Checkout - Full Width */}\n      <StripeCheckout\n        priceId={priceId}\n        successUrl={successUrl}\n        cancelUrl={cancelUrl}\n        isTest={isTest}\n      />\n    </>\n  )\n}\n\nexport default CheckoutPageTemplate\n"],"names":["_ref","checkoutUrl","declineUrl","primaryText","secondaryText","React","className","onClick","handlePrimaryClick","navigate","handleSecondaryClick","stripe","test_priceId","price_id","meta","title","description","keywords","author","pre_hero_section","text_above_progress","progress_bar","width","gradient","text","text_below_progress","hero_section","headline","sub_headline","offer_price","product_section","copy","offer_section","cta_section","buttons","primary_text","secondary_text","colors","accent_color","background_dark","price_color","value_color","show_timer","timer_minutes","_offerData$pre_hero_s","_offerData$pre_hero_s2","_offerData$pre_hero_s3","_offerData$pre_hero_s4","_offerData$pre_hero_s5","_offerData$pre_hero_s6","_offerData$hero_secti","_offerData$hero_secti2","_offerData$hero_secti3","_offerData$product_se","_offerData$offer_sect","_offerData$offer_sect2","_offerData$offer_sect3","_offerData$offer_sect4","_offerData$cta_sectio","_offerData$colors","offerData","productImage","children","progressText","timerMinutes","timeLeft","setTimeLeft","useState","useEffect","timer","setInterval","prevTime","clearInterval","style","background","whiteSpace","ReactMarkdown","fontFamily","seconds","remainingSeconds","Math","floor","toString","padStart","formatTime","backgroundColor","_offerData$buttons","_offerData$buttons2","Layout","Error","isTest","process","primaryButtonText","displayPrimaryText","pageTitle","Helmet","name","content","OfferContent","OfferSelection","OTOContent","getUpsellTokenApi","oneClickUpsellApi","stripeSessionId","setStripeSessionId","isProcessing","setIsProcessing","error","setError","priceId","window","sessionId","URLSearchParams","location","search","get","console","warn","async","controller","AbortController","timeoutId","setTimeout","abort","uuidData","lastError","i","uuidResponse","fetch","signal","ok","_errorData$error","errorData","json","catch","message","found","status","Promise","resolve","data","success","upsellToken","err","_lastError","upsellResponse","method","headers","body","JSON","stringify","clearTimeout","_errorData$error2","_data$error","errorMessage","includes","disabled","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","handleDecline","fillRule","clipRule","stripePromise","RELEASE_TRAIN","ORIGIN","STRIPE_JS_URL","concat","V3_URL_REGEX","STRIPE_JS_URL_REGEX","EXISTING_SCRIPT_MESSAGE","isStripeJSURL","url","test","injectScript","params","queryString","advancedFraudSignals","script","document","createElement","src","headOrBody","head","appendChild","stripePromise$1","onErrorListener","onLoadListener","loadScript","reject","Stripe","scripts","querySelectorAll","length","findScript","_script$parentNode","removeEventListener","parentNode","removeChild","onLoad","cause","onError","addEventListener","loadCalled","getStripePromise","then","loadStripe","_len","arguments","args","Array","_key","startTime","Date","now","maybeStripe","isTestKey","match","version","runtimeVersionToUrlVersion","expectedVersion","apply","undefined","_registerWrapper","registerWrapper","initStripe","successUrl","cancelUrl","STRIPE_PUBLISHABLE_KEY","isLoading","setIsLoading","clientSecret","setClientSecret","setSessionId","checkoutRef","useRef","checkoutInstance","current","baseUrl","origin","defaultSuccessUrl","defaultCancelUrl","href","split","response","productType","createCheckoutSession","checkout","initEmbeddedCheckout","mount","on","handleCheckoutComplete","initializeCheckout","destroy","finalSessionId","log","separator","redirectUrl","handleRetry","reload","ref","StripeCheckout"],"sourceRoot":""}